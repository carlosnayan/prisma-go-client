// Count returns a builder for counting {{.PascalName}} records (Prisma-style)
// Example: count, err := q.Count().Where(inputs.{{.PascalName}}WhereInput{...}).Exec(ctx)
func (q *{{.PascalName}}Query) Count() *{{.PascalName}}CountBuilder {
	return &{{.PascalName}}CountBuilder{query: q}
}

// {{.PascalName}}CountBuilder is a builder for counting {{.PascalName}} records
type {{.PascalName}}CountBuilder struct {
	query      *{{.PascalName}}Query
	whereInput *inputs.{{.PascalName}}WhereInput
}

// Where sets the where conditions
func (b *{{.PascalName}}CountBuilder) Where(where inputs.{{.PascalName}}WhereInput) *{{.PascalName}}CountBuilder {
	b.whereInput = &where
	return b
}

// Exec executes the count operation using the stored context (if set via WithContext)
// or context.Background() as fallback.
// Example: count, err := builder.Count().Where(...).Exec()
func (b *{{.PascalName}}CountBuilder) Exec() (int64, error) {
	return b.ExecWithContext(b.query.Query.GetContext())
}

// ExecWithContext executes the count operation with an explicit context.
// If a context was set via WithContext(), the explicit context takes priority.
// Example: count, err := builder.Count().Where(...).ExecWithContext(ctx)
func (b *{{.PascalName}}CountBuilder) ExecWithContext(ctx context.Context) (int64, error) {
	if b.whereInput != nil {
		whereMap := Convert{{.PascalName}}WhereInputToWhere(*b.whereInput)
		b.query.Where(whereMap)
	}
	return b.query.Query.Count(ctx)
}

