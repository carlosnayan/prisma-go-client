// Delete returns a builder for deleting {{.PascalName}} records (Prisma-style)
// Example: err := q.Delete().Where(inputs.{{.PascalName}}WhereInput{...}).Exec(ctx)
func (q *{{.PascalName}}Query) Delete() *{{.PascalName}}DeleteBuilder {
	return &{{.PascalName}}DeleteBuilder{query: q}
}

// {{.PascalName}}DeleteBuilder is a builder for deleting {{.PascalName}} records
type {{.PascalName}}DeleteBuilder struct {
	query      *{{.PascalName}}Query
	whereInput *inputs.{{.PascalName}}WhereInput
}

// Where sets the where conditions
func (b *{{.PascalName}}DeleteBuilder) Where(where inputs.{{.PascalName}}WhereInput) *{{.PascalName}}DeleteBuilder {
	b.whereInput = &where
	return b
}

// Exec executes the delete operation using the stored context (if set via WithContext)
// or context.Background() as fallback.
// Example: err := builder.Delete().Where(...).Exec()
func (b *{{.PascalName}}DeleteBuilder) Exec() error {
	return b.ExecWithContext(b.query.Query.GetContext())
}

// ExecWithContext executes the delete operation with an explicit context.
// If a context was set via WithContext(), the explicit context takes priority.
// Example: err := builder.Delete().Where(...).ExecWithContext(ctx)
func (b *{{.PascalName}}DeleteBuilder) ExecWithContext(ctx context.Context) error {
	// Reset query state to prevent accumulation of conditions from previous operations
	b.query.Query.Reset()
	if b.whereInput == nil {
		return fmt.Errorf("where condition is required for delete")
	}
	whereMap := Convert{{.PascalName}}WhereInputToWhere(*b.whereInput)
	b.query.Where(whereMap)
	return b.query.Query.Delete(ctx, &models.{{.PascalName}}{})
}

